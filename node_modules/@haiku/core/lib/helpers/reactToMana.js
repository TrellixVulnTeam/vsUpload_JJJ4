"use strict";
/**
 * Copyright (c) Haiku 2016-2018. All rights reserved.
 */
Object.defineProperty(exports, "__esModule", { value: true });
var STRING_TYPE = 'string';
function reactToMana(react) {
    var props = {};
    for (var key in react.props) {
        if (key !== 'children') {
            props[key] = react.props[key];
        }
    }
    var givenChildren = react.props.children || react.children;
    var processedChildren;
    if (Array.isArray(givenChildren)) {
        processedChildren = reactChildrenToMana(givenChildren);
    }
    else if (givenChildren && givenChildren.type) {
        processedChildren = [reactToMana(givenChildren)];
    }
    else if (typeof givenChildren === STRING_TYPE) {
        processedChildren = [givenChildren];
    }
    return {
        elementName: react.type,
        attributes: props,
        children: processedChildren,
    };
}
exports.default = reactToMana;
function reactChildrenToMana(children) {
    if (!children) {
        return null;
    }
    if (children.length < 1) {
        return null;
    }
    return children.map(function (child) {
        if (typeof child === 'string') {
            return child;
        }
        return reactToMana(child);
    });
}
//# sourceMappingURL=reactToMana.js.map